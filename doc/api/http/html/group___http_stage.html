<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>http: HttpStage</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>HttpStage</h1>Pipeline Stages.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">HttpStage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g8971850225994ea96daf05429c001c7c">httpCloneStage</a> (Http *http, HttpStage *stage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a clone of an existing state.  <a href="#g8971850225994ea96daf05429c001c7c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">HttpStage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g47049c935cda38057af33387eaa3b6bf">httpCreateConnector</a> (Http *http, cchar *name, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a connector stage.  <a href="#g47049c935cda38057af33387eaa3b6bf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">HttpStage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g69d9214c7659de74f69298d912f61e16">httpCreateFilter</a> (Http *http, cchar *name, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a filter stage.  <a href="#g69d9214c7659de74f69298d912f61e16"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">HttpStage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g75086a20ef93da6078d323dbcfc5de95">httpCreateHandler</a> (Http *http, cchar *name, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a request handler stage.  <a href="#g75086a20ef93da6078d323dbcfc5de95"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">HttpStage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#gce2899750d37260ad55d6cfb4a44759e">httpCreateStage</a> (Http *http, cchar *name, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a connector stage.  <a href="#gce2899750d37260ad55d6cfb4a44759e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g635121f5f5fa104bb218796fd47178fe">httpDefaultOutgoingServiceStage</a> (HttpQueue *q)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default outgoing data handling.  <a href="#g635121f5f5fa104bb218796fd47178fe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct HttpStage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g890b60bd78dd3099a51898b885cb26ea">httpLookupStage</a> (Http *http, cchar *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup a stage by name.  <a href="#g890b60bd78dd3099a51898b885cb26ea"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#gfcc686a0a347d0ec14370c7eef99bcf0">httpLookupStageData</a> (Http *http, cchar *name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Lookup stage data.  <a href="#gfcc686a0a347d0ec14370c7eef99bcf0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ge6b72be96f4bd5b48f767a8c75ada025">HttpStage::close</a> )(HttpQueue *q)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close the queue.  <a href="#ge6b72be96f4bd5b48f767a8c75ada025"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g382fb76a25d300c01959209c0b9906bb">HttpStage::incomingData</a> )(HttpQueue *q, HttpPacket *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process incoming data.  <a href="#g382fb76a25d300c01959209c0b9906bb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g233ab271342666d3f625f420589f4472">HttpStage::incomingService</a> )(HttpQueue *q)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Service the incoming data queue.  <a href="#g233ab271342666d3f625f420589f4472"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g07180b15c7dffd7d81510f14bf57f37f">HttpStage::match</a> )(struct HttpConn *conn, struct HttpStage *stage, cchar *uri)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Match a request.  <a href="#g07180b15c7dffd7d81510f14bf57f37f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga1d7ed1c16d6db80311f0b8b7ea8c301">HttpStage::open</a> )(HttpQueue *q)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Open the queue.  <a href="#ga1d7ed1c16d6db80311f0b8b7ea8c301"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g034bbf8e92fb2a5b16c909ef4d27052f">HttpStage::outgoingData</a> )(HttpQueue *q, HttpPacket *packet)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Process outgoing data.  <a href="#g034bbf8e92fb2a5b16c909ef4d27052f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g2814b01952764af232ce38fce051748f">HttpStage::outgoingService</a> )(HttpQueue *q)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Service the outgoing data queue.  <a href="#g2814b01952764af232ce38fce051748f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g0235ccdd3967b88f71f1463b2502ffd0">HttpStage::parse</a> )(Http *http, cchar *key, char *value, void *state)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse configuration data.  <a href="#g0235ccdd3967b88f71f1463b2502ffd0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#g621e9fe1c1cb704865f04b8d933ed16d">HttpStage::run</a> )(HttpQueue *q)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Run the queue.  <a href="#g621e9fe1c1cb704865f04b8d933ed16d"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Pipeline Stages. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>The request pipeline consists of a full-duplex pipeline of stages. Stages are used to process client HTTP requests in a modular fashion. Each stage either creates, filters or consumes data packets. The HttpStage structure describes the stage capabilities and callbacks. Each stage has two queues, one for outgoing data and one for incoming data. <br>
<br>
 Stages provide callback methods for parsing configuration, matching requests, open/close, run and the acceptance and service of incoming and outgoing data. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group___http_stage.html" title="Pipeline Stages.">HttpStage</a> <a class="el" href="group___http_queue.html" title="Queue object.">HttpQueue</a> <a class="el" href="group___http_conn.html" title="Http Connections.">HttpConn</a> <a class="el" href="group___http_stage.html#g47049c935cda38057af33387eaa3b6bf" title="Create a connector stage.">httpCreateConnector</a> <a class="el" href="group___http_stage.html#g69d9214c7659de74f69298d912f61e16" title="Create a filter stage.">httpCreateFilter</a> <a class="el" href="group___http_stage.html#g75086a20ef93da6078d323dbcfc5de95" title="Create a request handler stage.">httpCreateHandler</a> <a class="el" href="group___http_stage.html#g635121f5f5fa104bb218796fd47178fe" title="Default outgoing data handling.">httpDefaultOutgoingServiceStage</a> <a class="el" href="group___http_stage.html#gfcc686a0a347d0ec14370c7eef99bcf0" title="Lookup stage data.">httpLookupStageData</a> </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g8971850225994ea96daf05429c001c7c"></a><!-- doxytag: member="http.h::httpCloneStage" ref="g8971850225994ea96daf05429c001c7c" args="(Http *http, HttpStage *stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HttpStage* httpCloneStage           </td>
          <td>(</td>
          <td class="paramtype">Http *&nbsp;</td>
          <td class="paramname"> <em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HttpStage *&nbsp;</td>
          <td class="paramname"> <em>stage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a clone of an existing state. 
<p>
This is used when creating filters configured to match certain extensions. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http</em>&nbsp;</td><td>Http object returned from <a class="el" href="group___http.html#g2d5a83881e324be16b764aa150b609d3" title="Create a Http connection object.">httpCreate</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stage</em>&nbsp;</td><td>Stage object to clone </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A new stage object </dd></dl>

</div>
</div><p>
<a class="anchor" name="g47049c935cda38057af33387eaa3b6bf"></a><!-- doxytag: member="http.h::httpCreateConnector" ref="g47049c935cda38057af33387eaa3b6bf" args="(Http *http, cchar *name, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HttpStage* httpCreateConnector           </td>
          <td>(</td>
          <td class="paramtype">Http *&nbsp;</td>
          <td class="paramname"> <em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a connector stage. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Create a new connector. Connectors are the final stage for outgoing data. Their job is to transmit outgoing data to the client. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http</em>&nbsp;</td><td>Http object returned from <a class="el" href="group___http.html#g2d5a83881e324be16b764aa150b609d3" title="Create a Http connection object.">httpCreate</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of connector stage </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: <ul>
<li>HTTP_STAGE_DELETE - Support DELETE requests </li>
<li>HTTP_STAGE_GET - Support GET requests </li>
<li>HTTP_STAGE_HEAD - Support HEAD requests </li>
<li>HTTP_STAGE_OPTIONS - Support OPTIONS requests </li>
<li>HTTP_STAGE_POST - Support POST requests </li>
<li>HTTP_STAGE_PUT - Support PUT requests </li>
<li>HTTP_STAGE_TRACE - Support TRACE requests </li>
<li>HTTP_STAGE_ALL - Mask to support all methods </li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A new stage object </dd></dl>

</div>
</div><p>
<a class="anchor" name="g69d9214c7659de74f69298d912f61e16"></a><!-- doxytag: member="http.h::httpCreateFilter" ref="g69d9214c7659de74f69298d912f61e16" args="(Http *http, cchar *name, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HttpStage* httpCreateFilter           </td>
          <td>(</td>
          <td class="paramtype">Http *&nbsp;</td>
          <td class="paramname"> <em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a filter stage. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Create a new filter. Filters transform data generated by handlers and before connectors transmit to the client. Filters can apply transformations to incoming, outgoing or bi-directional data. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http</em>&nbsp;</td><td>Http object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of connector stage </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: <ul>
<li>HTTP_STAGE_DELETE - Support DELETE requests </li>
<li>HTTP_STAGE_GET - Support GET requests </li>
<li>HTTP_STAGE_HEAD - Support HEAD requests </li>
<li>HTTP_STAGE_OPTIONS - Support OPTIONS requests </li>
<li>HTTP_STAGE_POST - Support POST requests </li>
<li>HTTP_STAGE_PUT - Support PUT requests </li>
<li>HTTP_STAGE_TRACE - Support TRACE requests </li>
<li>HTTP_STAGE_ALL - Mask to support all methods </li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A new stage object </dd></dl>

</div>
</div><p>
<a class="anchor" name="g75086a20ef93da6078d323dbcfc5de95"></a><!-- doxytag: member="http.h::httpCreateHandler" ref="g75086a20ef93da6078d323dbcfc5de95" args="(Http *http, cchar *name, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HttpStage* httpCreateHandler           </td>
          <td>(</td>
          <td class="paramtype">Http *&nbsp;</td>
          <td class="paramname"> <em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a request handler stage. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Create a new handler. Handlers generate outgoing data and are the final stage for incoming data. Their job is to process requests and send outgoing data downstream toward the client consumer. There is ever only one handler for a request. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http</em>&nbsp;</td><td>Http object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of connector stage </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: <ul>
<li>HTTP_STAGE_DELETE - Support DELETE requests </li>
<li>HTTP_STAGE_GET - Support GET requests </li>
<li>HTTP_STAGE_HEAD - Support HEAD requests </li>
<li>HTTP_STAGE_OPTIONS - Support OPTIONS requests </li>
<li>HTTP_STAGE_POST - Support POST requests </li>
<li>HTTP_STAGE_PUT - Support PUT requests </li>
<li>HTTP_STAGE_TRACE - Support TRACE requests </li>
<li>HTTP_STAGE_ALL - Mask to support all methods </li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A new stage object </dd></dl>

</div>
</div><p>
<a class="anchor" name="gce2899750d37260ad55d6cfb4a44759e"></a><!-- doxytag: member="http.h::httpCreateStage" ref="gce2899750d37260ad55d6cfb4a44759e" args="(Http *http, cchar *name, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HttpStage* httpCreateStage           </td>
          <td>(</td>
          <td class="paramtype">Http *&nbsp;</td>
          <td class="paramname"> <em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a connector stage. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Create a new stage. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http</em>&nbsp;</td><td>Http object returned from <a class="el" href="group___http.html#g2d5a83881e324be16b764aa150b609d3" title="Create a Http connection object.">httpCreate</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of connector stage </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>flags</em>&nbsp;</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: <ul>
<li>HTTP_STAGE_HANDLER - Stage is a handler DELETE requests </li>
<li>HTTP_STAGE_FILTER - Stage is a filter </li>
<li>HTTP_STAGE_CONNECTOR - Stage is a connector </li>
<li>HTTP_STAGE_GET - Support GET requests </li>
<li>HTTP_STAGE_HEAD - Support HEAD requests </li>
<li>HTTP_STAGE_OPTIONS - Support OPTIONS requests </li>
<li>HTTP_STAGE_POST - Support POST requests </li>
<li>HTTP_STAGE_PUT - Support PUT requests </li>
<li>HTTP_STAGE_TRACE - Support TRACE requests </li>
<li>HTTP_STAGE_ALL - Mask to support all methods </li>
</ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A new stage object </dd></dl>

</div>
</div><p>
<a class="anchor" name="g635121f5f5fa104bb218796fd47178fe"></a><!-- doxytag: member="http.h::httpDefaultOutgoingServiceStage" ref="g635121f5f5fa104bb218796fd47178fe" args="(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpDefaultOutgoingServiceStage           </td>
          <td>(</td>
          <td class="paramtype">HttpQueue *&nbsp;</td>
          <td class="paramname"> <em>q</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Default outgoing data handling. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>This routine provides default handling of outgoing data for stages. It simply sends all packets downstream. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>Queue object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g890b60bd78dd3099a51898b885cb26ea"></a><!-- doxytag: member="http.h::httpLookupStage" ref="g890b60bd78dd3099a51898b885cb26ea" args="(Http *http, cchar *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct HttpStage* httpLookupStage           </td>
          <td>(</td>
          <td class="paramtype">Http *&nbsp;</td>
          <td class="paramname"> <em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup a stage by name. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http</em>&nbsp;</td><td>Http object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of stage to locate </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Stage or NULL if not found </dd></dl>

</div>
</div><p>
<a class="anchor" name="gfcc686a0a347d0ec14370c7eef99bcf0"></a><!-- doxytag: member="http.h::httpLookupStageData" ref="gfcc686a0a347d0ec14370c7eef99bcf0" args="(Http *http, cchar *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* httpLookupStageData           </td>
          <td>(</td>
          <td class="paramtype">Http *&nbsp;</td>
          <td class="paramname"> <em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>name</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Lookup stage data. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>This looks up the stage by name and returns the private stage data. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http</em>&nbsp;</td><td>Http object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>Name of the stage concerned </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Reference to the stage data block. </dd></dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="ge6b72be96f4bd5b48f767a8c75ada025"></a><!-- doxytag: member="HttpStage::close" ref="ge6b72be96f4bd5b48f767a8c75ada025" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::close)(HttpQueue *q)<code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Close the queue. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Close the queue instance </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>Queue instance object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g382fb76a25d300c01959209c0b9906bb"></a><!-- doxytag: member="HttpStage::incomingData" ref="g382fb76a25d300c01959209c0b9906bb" args=")(HttpQueue *q, HttpPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::incomingData)(HttpQueue *q, HttpPacket *packet)<code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process incoming data. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Accept an incoming packet of data </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>Queue instance object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>Packet of data </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g233ab271342666d3f625f420589f4472"></a><!-- doxytag: member="HttpStage::incomingService" ref="g233ab271342666d3f625f420589f4472" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::incomingService)(HttpQueue *q)<code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Service the incoming data queue. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>Queue instance object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g07180b15c7dffd7d81510f14bf57f37f"></a><!-- doxytag: member="HttpStage::match" ref="g07180b15c7dffd7d81510f14bf57f37f" args=")(struct HttpConn *conn, struct HttpStage *stage, cchar *uri)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool(* HttpStage::match)(struct HttpConn *conn, struct HttpStage *stage, cchar *uri)<code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Match a request. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>This method is invoked to see if the stage wishes to handle the request. If a stage denies to handle a request, it will be removed from the pipeline. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn connection object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>stage</em>&nbsp;</td><td>Stage object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>uri</em>&nbsp;</td><td>Current request URI </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if the stage wishes to process this request. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ga1d7ed1c16d6db80311f0b8b7ea8c301"></a><!-- doxytag: member="HttpStage::open" ref="ga1d7ed1c16d6db80311f0b8b7ea8c301" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::open)(HttpQueue *q)<code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open the queue. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Open the queue instance and initialize for this request. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>Queue instance object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g034bbf8e92fb2a5b16c909ef4d27052f"></a><!-- doxytag: member="HttpStage::outgoingData" ref="g034bbf8e92fb2a5b16c909ef4d27052f" args=")(HttpQueue *q, HttpPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::outgoingData)(HttpQueue *q, HttpPacket *packet)<code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Process outgoing data. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Accept a packet as outgoing data </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>Queue instance object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>packet</em>&nbsp;</td><td>Packet of data </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g2814b01952764af232ce38fce051748f"></a><!-- doxytag: member="HttpStage::outgoingService" ref="g2814b01952764af232ce38fce051748f" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::outgoingService)(HttpQueue *q)<code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Service the outgoing data queue. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>Queue instance object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g0235ccdd3967b88f71f1463b2502ffd0"></a><!-- doxytag: member="HttpStage::parse" ref="g0235ccdd3967b88f71f1463b2502ffd0" args=")(Http *http, cchar *key, char *value, void *state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* HttpStage::parse)(Http *http, cchar *key, char *value, void *state)<code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse configuration data. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>This is invoked when parsing appweb configuration files </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http</em>&nbsp;</td><td>Http object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>Configuration directive name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>Configuration directive value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>Current configuration parsing state </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Zero if the key was not relevant to this stage. Return 1 if the directive applies to this stage and was accepted. </dd></dl>

</div>
</div><p>
<a class="anchor" name="g621e9fe1c1cb704865f04b8d933ed16d"></a><!-- doxytag: member="HttpStage::run" ref="g621e9fe1c1cb704865f04b8d933ed16d" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::run)(HttpQueue *q)<code> [inherited]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run the queue. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>The queue is run after all incoming data has been received. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>q</em>&nbsp;</td><td>Queue instance object </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 26 12:46:02 2010 for http by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
