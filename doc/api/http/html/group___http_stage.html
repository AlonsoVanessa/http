<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>http: HttpStage</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">http&#160;<span id="projectnumber">1.0</span></div>
  </td>
  <td>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>HttpStage</h1>  </div>
</div>
<div class="contents">

<p>Pipeline Stages.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HttpStage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga8971850225994ea96daf05429c001c7c">httpCloneStage</a> (Http *http, HttpStage *stage)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a clone of an existing state.  <a href="#ga8971850225994ea96daf05429c001c7c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HttpStage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga58a685d73b0d0220ddf143fe6e8bcb17">httpCreateConnector</a> (Http *http, <a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *name, int flags, MprModule *module)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a connector stage.  <a href="#ga58a685d73b0d0220ddf143fe6e8bcb17"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HttpStage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga59b0fada2a726fe553048ab753e7b8bb">httpCreateFilter</a> (Http *http, <a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *name, int flags, MprModule *module)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a filter stage.  <a href="#ga59b0fada2a726fe553048ab753e7b8bb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HttpStage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#gac2637a927981b3338c86a27f7ebd5f19">httpCreateHandler</a> (Http *http, <a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *name, int flags, MprModule *module)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a request handler stage.  <a href="#gac2637a927981b3338c86a27f7ebd5f19"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HttpStage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#gad9a57a81fd836d1ec4322d60bf0d56c7">httpCreateStage</a> (Http *http, <a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *name, int flags, MprModule *module)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a connector stage.  <a href="#gad9a57a81fd836d1ec4322d60bf0d56c7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga635121f5f5fa104bb218796fd47178fe">httpDefaultOutgoingServiceStage</a> (HttpQueue *q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default outgoing data handling.  <a href="#ga635121f5f5fa104bb218796fd47178fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga2aab75b36881d1cd08a868a547715304">httpHandleOptionsTrace</a> (struct HttpConn *conn)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a Http Trace or Options method request.  <a href="#ga2aab75b36881d1cd08a868a547715304"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct HttpStage *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga890b60bd78dd3099a51898b885cb26ea">httpLookupStage</a> (Http *http, <a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup a stage by name.  <a href="#ga890b60bd78dd3099a51898b885cb26ea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#gafcc686a0a347d0ec14370c7eef99bcf0">httpLookupStageData</a> (Http *http, <a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *name)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup stage data.  <a href="#gafcc686a0a347d0ec14370c7eef99bcf0"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#gae6b72be96f4bd5b48f767a8c75ada025">HttpStage::close</a> )(HttpQueue *q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the queue.  <a href="#gae6b72be96f4bd5b48f767a8c75ada025"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga382fb76a25d300c01959209c0b9906bb">HttpStage::incomingData</a> )(HttpQueue *q, HttpPacket *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process incoming data.  <a href="#ga382fb76a25d300c01959209c0b9906bb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga233ab271342666d3f625f420589f4472">HttpStage::incomingService</a> )(HttpQueue *q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Service the incoming data queue.  <a href="#ga233ab271342666d3f625f420589f4472"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="mpr_8h.html#a1062901a7428fdd9c7f180f5e01ea056">bool</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#gaa67fade2a333423413c21742084ddb2f">HttpStage::match</a> )(struct HttpConn *conn, struct HttpRoute *route, int dir)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Match a request.  <a href="#gaa67fade2a333423413c21742084ddb2f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#gaa1d7ed1c16d6db80311f0b8b7ea8c301">HttpStage::open</a> )(HttpQueue *q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the queue.  <a href="#gaa1d7ed1c16d6db80311f0b8b7ea8c301"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga034bbf8e92fb2a5b16c909ef4d27052f">HttpStage::outgoingData</a> )(HttpQueue *q, HttpPacket *packet)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process outgoing data.  <a href="#ga034bbf8e92fb2a5b16c909ef4d27052f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga2814b01952764af232ce38fce051748f">HttpStage::outgoingService</a> )(HttpQueue *q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Service the outgoing data queue.  <a href="#ga2814b01952764af232ce38fce051748f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#gaae9ad8d07973afc2b57350d4614cd0e0">HttpStage::process</a> )(HttpQueue *q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the data.  <a href="#gaae9ad8d07973afc2b57350d4614cd0e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_stage.html#ga70b2d0ce56405eb004cce1b3eff374dc">HttpStage::start</a> )(HttpQueue *q)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the handler.  <a href="#ga70b2d0ce56405eb004cce1b3eff374dc"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Pipeline Stages. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>The request pipeline consists of a full-duplex pipeline of stages. Stages are used to process client HTTP requests in a modular fashion. Each stage either creates, filters or consumes data packets. The HttpStage structure describes the stage capabilities and callbacks. Each stage has two queues, one for outgoing data and one for incoming data. <br/>
<br/>
 Stages provide callback methods for parsing configuration, matching requests, open/close, run and the acceptance and service of incoming and outgoing data. </dd></dl>
<dl class="user"><dt><b><b>API</b> Stability:</b></dt><dd>Evolving</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group___http_conn.html" title="Http Connections.">HttpConn</a> <a class="el" href="group___http_queue.html" title="Queue object.">HttpQueue</a> <a class="el" href="group___http_stage.html" title="Pipeline Stages.">HttpStage</a> <a class="el" href="group___http_stage.html#ga8971850225994ea96daf05429c001c7c" title="Create a clone of an existing state.">httpCloneStage</a> <a class="el" href="group___http_stage.html#ga58a685d73b0d0220ddf143fe6e8bcb17" title="Create a connector stage.">httpCreateConnector</a> <a class="el" href="group___http_stage.html#ga59b0fada2a726fe553048ab753e7b8bb" title="Create a filter stage.">httpCreateFilter</a> <a class="el" href="group___http_stage.html#gac2637a927981b3338c86a27f7ebd5f19" title="Create a request handler stage.">httpCreateHandler</a> <a class="el" href="group___http_stage.html#gad9a57a81fd836d1ec4322d60bf0d56c7" title="Create a connector stage.">httpCreateStage</a> <a class="el" href="group___http_stage.html#ga635121f5f5fa104bb218796fd47178fe" title="Default outgoing data handling.">httpDefaultOutgoingServiceStage</a> <a class="el" href="group___http_rx.html#gab3115e46e00ffbc29ec9c8c4a9f8fc61" title="Get stage data.">httpGetStageData</a> <a class="el" href="group___http_stage.html#ga2aab75b36881d1cd08a868a547715304" title="Handle a Http Trace or Options method request.">httpHandleOptionsTrace</a> <a class="el" href="group___http_stage.html#ga890b60bd78dd3099a51898b885cb26ea" title="Lookup a stage by name.">httpLookupStage</a> <a class="el" href="group___http_stage.html#gafcc686a0a347d0ec14370c7eef99bcf0" title="Lookup stage data.">httpLookupStageData</a> <a class="el" href="group___http_route.html#ga9ed9a3687b90670fb6e12697f579e744" title="Set stage data.">httpSetStageData</a> </dd></dl>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga8971850225994ea96daf05429c001c7c"></a><!-- doxytag: member="http.h::httpCloneStage" ref="ga8971850225994ea96daf05429c001c7c" args="(Http *http, HttpStage *stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HttpStage* httpCloneStage </td>
          <td>(</td>
          <td class="paramtype">Http *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HttpStage *&#160;</td>
          <td class="paramname"><em>stage</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a clone of an existing state. </p>
<p>This is used when creating filters configured to match certain extensions. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">http</td><td>Http object returned from <a class="el" href="group___http.html#ga995a8e6f658f5eb6628371f62cf78d66" title="Create a Http service object.">httpCreate</a> </td></tr>
    <tr><td class="paramname">stage</td><td>Stage object to clone </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A new stage object </dd></dl>

</div>
</div>
<a class="anchor" id="ga58a685d73b0d0220ddf143fe6e8bcb17"></a><!-- doxytag: member="http.h::httpCreateConnector" ref="ga58a685d73b0d0220ddf143fe6e8bcb17" args="(Http *http, cchar *name, int flags, MprModule *module)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HttpStage* httpCreateConnector </td>
          <td>(</td>
          <td class="paramtype">Http *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprModule *&#160;</td>
          <td class="paramname"><em>module</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a connector stage. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>Create a new connector. Connectors are the final stage for outgoing data. Their job is to transmit outgoing data to the client. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">http</td><td>Http object returned from <a class="el" href="group___http.html#ga995a8e6f658f5eb6628371f62cf78d66" title="Create a Http service object.">httpCreate</a> </td></tr>
    <tr><td class="paramname">name</td><td>Name of connector stage </td></tr>
    <tr><td class="paramname">flags</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: </p>
<ul>
<li>HTTP_STAGE_DELETE - Support DELETE requests </li>
<li>HTTP_STAGE_GET - Support GET requests </li>
<li>HTTP_STAGE_HEAD - Support HEAD requests </li>
<li>HTTP_STAGE_OPTIONS - Support OPTIONS requests </li>
<li>HTTP_STAGE_POST - Support POST requests </li>
<li>HTTP_STAGE_PUT - Support PUT requests </li>
<li>HTTP_STAGE_TRACE - Support TRACE requests </li>
<li>HTTP_STAGE_ALL - Mask to support all methods </li>
</ul>
</td></tr>
    <tr><td class="paramname">module</td><td>Optional module object for loadable stages </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A new stage object </dd></dl>

</div>
</div>
<a class="anchor" id="ga59b0fada2a726fe553048ab753e7b8bb"></a><!-- doxytag: member="http.h::httpCreateFilter" ref="ga59b0fada2a726fe553048ab753e7b8bb" args="(Http *http, cchar *name, int flags, MprModule *module)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HttpStage* httpCreateFilter </td>
          <td>(</td>
          <td class="paramtype">Http *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprModule *&#160;</td>
          <td class="paramname"><em>module</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a filter stage. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>Create a new filter. Filters transform data generated by handlers and before connectors transmit to the client. Filters can apply transformations to incoming, outgoing or bi-directional data. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">http</td><td>Http object </td></tr>
    <tr><td class="paramname">name</td><td>Name of connector stage </td></tr>
    <tr><td class="paramname">flags</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: </p>
<ul>
<li>HTTP_STAGE_DELETE - Support DELETE requests </li>
<li>HTTP_STAGE_GET - Support GET requests </li>
<li>HTTP_STAGE_HEAD - Support HEAD requests </li>
<li>HTTP_STAGE_OPTIONS - Support OPTIONS requests </li>
<li>HTTP_STAGE_POST - Support POST requests </li>
<li>HTTP_STAGE_PUT - Support PUT requests </li>
<li>HTTP_STAGE_TRACE - Support TRACE requests </li>
<li>HTTP_STAGE_ALL - Mask to support all methods </li>
</ul>
</td></tr>
    <tr><td class="paramname">module</td><td>Optional module object for loadable stages </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A new stage object </dd></dl>

</div>
</div>
<a class="anchor" id="gac2637a927981b3338c86a27f7ebd5f19"></a><!-- doxytag: member="http.h::httpCreateHandler" ref="gac2637a927981b3338c86a27f7ebd5f19" args="(Http *http, cchar *name, int flags, MprModule *module)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HttpStage* httpCreateHandler </td>
          <td>(</td>
          <td class="paramtype">Http *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprModule *&#160;</td>
          <td class="paramname"><em>module</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a request handler stage. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>Create a new handler. Handlers generate outgoing data and are the final stage for incoming data. Their job is to process requests and send outgoing data downstream toward the client consumer. There is ever only one handler for a request. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">http</td><td>Http object </td></tr>
    <tr><td class="paramname">name</td><td>Name of connector stage </td></tr>
    <tr><td class="paramname">flags</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: </p>
<ul>
<li>HTTP_STAGE_DELETE - Support DELETE requests </li>
<li>HTTP_STAGE_GET - Support GET requests </li>
<li>HTTP_STAGE_HEAD - Support HEAD requests </li>
<li>HTTP_STAGE_OPTIONS - Support OPTIONS requests </li>
<li>HTTP_STAGE_POST - Support POST requests </li>
<li>HTTP_STAGE_PUT - Support PUT requests </li>
<li>HTTP_STAGE_TRACE - Support TRACE requests </li>
<li>HTTP_STAGE_ALL - Mask to support all methods </li>
</ul>
</td></tr>
    <tr><td class="paramname">module</td><td>Optional module object for loadable stages </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A new stage object </dd></dl>

</div>
</div>
<a class="anchor" id="gad9a57a81fd836d1ec4322d60bf0d56c7"></a><!-- doxytag: member="http.h::httpCreateStage" ref="gad9a57a81fd836d1ec4322d60bf0d56c7" args="(Http *http, cchar *name, int flags, MprModule *module)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HttpStage* httpCreateStage </td>
          <td>(</td>
          <td class="paramtype">Http *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprModule *&#160;</td>
          <td class="paramname"><em>module</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a connector stage. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>Create a new stage. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">http</td><td>Http object returned from <a class="el" href="group___http.html#ga995a8e6f658f5eb6628371f62cf78d66" title="Create a Http service object.">httpCreate</a> </td></tr>
    <tr><td class="paramname">name</td><td>Name of connector stage </td></tr>
    <tr><td class="paramname">flags</td><td>Stage flags mask. These specify what Http request methods will be supported by this stage. Or together any of the following flags: </p>
<ul>
<li>HTTP_STAGE_HANDLER - Stage is a handler DELETE requests </li>
<li>HTTP_STAGE_FILTER - Stage is a filter </li>
<li>HTTP_STAGE_CONNECTOR - Stage is a connector </li>
<li>HTTP_STAGE_GET - Support GET requests </li>
<li>HTTP_STAGE_HEAD - Support HEAD requests </li>
<li>HTTP_STAGE_OPTIONS - Support OPTIONS requests </li>
<li>HTTP_STAGE_POST - Support POST requests </li>
<li>HTTP_STAGE_PUT - Support PUT requests </li>
<li>HTTP_STAGE_TRACE - Support TRACE requests </li>
<li>HTTP_STAGE_ALL - Mask to support all methods </li>
</ul>
</td></tr>
    <tr><td class="paramname">module</td><td>Optional module object for loadable stages </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A new stage object </dd></dl>

</div>
</div>
<a class="anchor" id="ga635121f5f5fa104bb218796fd47178fe"></a><!-- doxytag: member="http.h::httpDefaultOutgoingServiceStage" ref="ga635121f5f5fa104bb218796fd47178fe" args="(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpDefaultOutgoingServiceStage </td>
          <td>(</td>
          <td class="paramtype">HttpQueue *&#160;</td>
          <td class="paramname"><em>q</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default outgoing data handling. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>This routine provides default handling of outgoing data for stages. It simply sends all packets downstream. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>Queue object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2aab75b36881d1cd08a868a547715304"></a><!-- doxytag: member="http.h::httpHandleOptionsTrace" ref="ga2aab75b36881d1cd08a868a547715304" args="(struct HttpConn *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpHandleOptionsTrace </td>
          <td>(</td>
          <td class="paramtype">struct HttpConn *&#160;</td>
          <td class="paramname"><em>conn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle a Http Trace or Options method request. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>This call responds to a Trace or Options HTTP method request and generates an appropriate response to the client </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>HttpConn object created via $httpCreateConn </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga890b60bd78dd3099a51898b885cb26ea"></a><!-- doxytag: member="http.h::httpLookupStage" ref="ga890b60bd78dd3099a51898b885cb26ea" args="(Http *http, cchar *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct HttpStage* httpLookupStage </td>
          <td>(</td>
          <td class="paramtype">Http *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lookup a stage by name. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">http</td><td>Http object </td></tr>
    <tr><td class="paramname">name</td><td>Name of stage to locate </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Stage or NULL if not found </dd></dl>

</div>
</div>
<a class="anchor" id="gafcc686a0a347d0ec14370c7eef99bcf0"></a><!-- doxytag: member="http.h::httpLookupStageData" ref="gafcc686a0a347d0ec14370c7eef99bcf0" args="(Http *http, cchar *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* httpLookupStageData </td>
          <td>(</td>
          <td class="paramtype">Http *&#160;</td>
          <td class="paramname"><em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="mpr_8h.html#a0f128c3e0c83721af0220c00554e9c4e">cchar</a> *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Lookup stage data. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>This looks up the stage by name and returns the private stage data. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">http</td><td>Http object </td></tr>
    <tr><td class="paramname">name</td><td>Name of the stage concerned </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Reference to the stage data block. </dd></dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="gae6b72be96f4bd5b48f767a8c75ada025"></a><!-- doxytag: member="HttpStage::close" ref="gae6b72be96f4bd5b48f767a8c75ada025" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::close)(HttpQueue *q)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close the queue. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>Close the queue instance </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>Queue instance object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga382fb76a25d300c01959209c0b9906bb"></a><!-- doxytag: member="HttpStage::incomingData" ref="ga382fb76a25d300c01959209c0b9906bb" args=")(HttpQueue *q, HttpPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::incomingData)(HttpQueue *q, HttpPacket *packet)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process incoming data. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>Accept an incoming packet of data </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>Queue instance object </td></tr>
    <tr><td class="paramname">packet</td><td>Packet of data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga233ab271342666d3f625f420589f4472"></a><!-- doxytag: member="HttpStage::incomingService" ref="ga233ab271342666d3f625f420589f4472" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::incomingService)(HttpQueue *q)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Service the incoming data queue. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>Queue instance object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaa67fade2a333423413c21742084ddb2f"></a><!-- doxytag: member="HttpStage::match" ref="gaa67fade2a333423413c21742084ddb2f" args=")(struct HttpConn *conn, struct HttpRoute *route, int dir)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="mpr_8h.html#a1062901a7428fdd9c7f180f5e01ea056">bool</a>(* HttpStage::match)(struct HttpConn *conn, struct HttpRoute *route, int dir)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Match a request. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>This method is invoked to see if the stage wishes to handle the request. If a stage denies to handle a request, it will be removed from the pipeline for the specified direction. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>HttpConn connection object </td></tr>
    <tr><td class="paramname">stage</td><td>Stage object </td></tr>
    <tr><td class="paramname">dir</td><td>Direction. Set to HTTP_RX or HTTP_TX. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the stage wishes to process this request. </dd></dl>

</div>
</div>
<a class="anchor" id="gaa1d7ed1c16d6db80311f0b8b7ea8c301"></a><!-- doxytag: member="HttpStage::open" ref="gaa1d7ed1c16d6db80311f0b8b7ea8c301" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::open)(HttpQueue *q)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Open the queue. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>Open the queue instance and initialize for this request. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>Queue instance object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga034bbf8e92fb2a5b16c909ef4d27052f"></a><!-- doxytag: member="HttpStage::outgoingData" ref="ga034bbf8e92fb2a5b16c909ef4d27052f" args=")(HttpQueue *q, HttpPacket *packet)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::outgoingData)(HttpQueue *q, HttpPacket *packet)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process outgoing data. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>Accept a packet as outgoing data </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>Queue instance object </td></tr>
    <tr><td class="paramname">packet</td><td>Packet of data </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga2814b01952764af232ce38fce051748f"></a><!-- doxytag: member="HttpStage::outgoingService" ref="ga2814b01952764af232ce38fce051748f" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::outgoingService)(HttpQueue *q)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Service the outgoing data queue. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>Queue instance object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaae9ad8d07973afc2b57350d4614cd0e0"></a><!-- doxytag: member="HttpStage::process" ref="gaae9ad8d07973afc2b57350d4614cd0e0" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::process)(HttpQueue *q)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Process the data. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>All incoming data has been received. The handler can now complete the request. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>Queue instance object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga70b2d0ce56405eb004cce1b3eff374dc"></a><!-- doxytag: member="HttpStage::start" ref="ga70b2d0ce56405eb004cce1b3eff374dc" args=")(HttpQueue *q)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* HttpStage::start)(HttpQueue *q)<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start the handler. </p>
<dl class="user"><dt><b><b>Description</b>:</b></dt><dd>The request has been parsed and the handler may start processing. Input data may not have been received yet. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q</td><td>Queue instance object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Sun Sep 4 2011 00:47:55 for http by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
