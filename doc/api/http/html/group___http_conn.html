<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>http: HttpConn</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>HttpConn</h1>Http Connections.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#gb8bf67adeb5cf8484998dd818f98e9c0">httpEnableUpload</a> (HttpConn *conn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable Multipart-Mime File Upload for this request.  <a href="#gb8bf67adeb5cf8484998dd818f98e9c0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">cchar *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#g62003481a3b7f89618f1bd5f2c19016e">httpGetError</a> (HttpConn *conn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the error message associated with the last request.  <a href="#g62003481a3b7f89618f1bd5f2c19016e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#ga2099f58db09458014bab94511635438">httpGetKeepAliveCount</a> (HttpConn *conn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the count of Keep-Alive requests that will be used for this connection object.  <a href="#ga2099f58db09458014bab94511635438"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#ga4bbef144d78146dee16942ab8fe5dfe">httpSetCallback</a> (HttpConn *conn, HttpCallback fn, void *arg)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define an callback for IO events on this connection.  <a href="#ga4bbef144d78146dee16942ab8fe5dfe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#ga2583067b73bfb6b79019f21bec6b43d">httpSetConnNotifier</a> (HttpConn *conn, HttpNotifier fn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define a notifier callback for this connection.  <a href="#ga2583067b73bfb6b79019f21bec6b43d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#g37d38b13f4016816381b5358ddb739c1">httpSetContentLength</a> (HttpConn *conn, int length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define a content length header in the transmission.  <a href="#g37d38b13f4016816381b5358ddb739c1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#ga5e60e413456e688bb7286e238b50948">httpSetCredentials</a> (HttpConn *conn, cchar *user, cchar *password)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the Http credentials.  <a href="#ga5e60e413456e688bb7286e238b50948"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#g588105248c91d1a694f549570db344c3">httpSetDefaultHost</a> (Http *http, cchar *host)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define a default host.  <a href="#g588105248c91d1a694f549570db344c3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#g43962e2fe486919ccf27331cbdd16865">httpSetDefaultPort</a> (Http *http, int port)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define a default port.  <a href="#g43962e2fe486919ccf27331cbdd16865"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#g5050ac505b4e8701f6247db9242a4249">httpSetKeepAliveCount</a> (HttpConn *conn, int count)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Control Http Keep-Alive for the connection.  <a href="#g5050ac505b4e8701f6247db9242a4249"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#gbfb77d6aba161b2641177d85de86b559">httpSetProtocol</a> (HttpConn *conn, cchar *protocol)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the Http protocol variant for this connection.  <a href="#gbfb77d6aba161b2641177d85de86b559"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#g43fe43a026149b074825c886a9d1fba1">httpSetRetries</a> (HttpConn *conn, int retries)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the Http retry count.  <a href="#g43fe43a026149b074825c886a9d1fba1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#g0504aa84a3042346eaa5bd5da8a262e9">httpSetServerNotifier</a> (HttpServer *server, HttpNotifier fn)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Define a notifier callback for this server.  <a href="#g0504aa84a3042346eaa5bd5da8a262e9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#ga66c849705963a35cce4dbc2c19dfda6">httpSetTimeout</a> (HttpConn *conn, int timeout)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the Http inactivity timeout.  <a href="#ga66c849705963a35cce4dbc2c19dfda6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___http_conn.html#g0dc78a4133e6db4e5b21e09a26ed3c51">httpWriteUploadData</a> (HttpConn *conn, MprList *formData, MprList *fileData)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write Http upload body data.  <a href="#g0dc78a4133e6db4e5b21e09a26ed3c51"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Http Connections. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>The HttpConn object represents a TCP/IP connection to the client. A connection object is created for each socket connection initiated by the client. One HttpConn object may service many Http requests due to HTTP/1.1 keep-alive. </dd></dl>
<dl class="user" compact><dt><b><b>API</b> Stability:</b></dt><dd>Evolving</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group___http_conn.html" title="Http Connections.">HttpConn</a> <a class="el" href="group___http_receiver.html" title="Http Receiver.">HttpReceiver</a> <a class="el" href="group___http_receiver.html" title="Http Receiver.">HttpReceiver</a> <a class="el" href="group___http_transmitter.html" title="Http Transmitter.">HttpTransmitter</a> <a class="el" href="group___http_queue.html" title="Queue object.">HttpQueue</a> <a class="el" href="group___http_stage.html" title="Pipeline Stages.">HttpStage</a> httpCreateConn httpCloseConn httpCompleteRequest httpCreatePipeline httpDestroyPipeline httpDiscardPipeline <a class="el" href="group___http_transmitter.html#g9f730354501b53a97b7678a91273a3be" title="Error handling for the connection.">httpError</a> httpGetAsync httpGetConnContext <a class="el" href="group___http_conn.html#g62003481a3b7f89618f1bd5f2c19016e" title="Get the error message associated with the last request.">httpGetError</a> <a class="el" href="group___http_conn.html#ga2099f58db09458014bab94511635438" title="Get the count of Keep-Alive requests that will be used for this connection object...">httpGetKeepAliveCount</a> httpPrepConn httpRunPipeline httpScheduleClose httpServiceQueues httpSetAsync <a class="el" href="group___http_conn.html#ga5e60e413456e688bb7286e238b50948" title="Set the Http credentials.">httpSetCredentials</a> <a class="el" href="group___http_conn.html#ga4bbef144d78146dee16942ab8fe5dfe" title="Define an callback for IO events on this connection.">httpSetCallback</a> httpSetConnContext <a class="el" href="group___http_conn.html#ga2583067b73bfb6b79019f21bec6b43d" title="Define a notifier callback for this connection.">httpSetConnNotifier</a> <a class="el" href="group___http_conn.html#g5050ac505b4e8701f6247db9242a4249" title="Control Http Keep-Alive for the connection.">httpSetKeepAliveCount</a> <a class="el" href="group___http_conn.html#gbfb77d6aba161b2641177d85de86b559" title="Set the Http protocol variant for this connection.">httpSetProtocol</a> <a class="el" href="group___http_conn.html#g43fe43a026149b074825c886a9d1fba1" title="Set the Http retry count.">httpSetRetries</a> httpSetState <a class="el" href="group___http_conn.html#ga66c849705963a35cce4dbc2c19dfda6" title="Set the Http inactivity timeout.">httpSetTimeout</a> httpWritable </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gb8bf67adeb5cf8484998dd818f98e9c0"></a><!-- doxytag: member="http.h::httpEnableUpload" ref="gb8bf67adeb5cf8484998dd818f98e9c0" args="(HttpConn *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpEnableUpload           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enable Multipart-Mime File Upload for this request. 
<p>
This will define a "Content-Type: multipart/form-data..." header and will create a mime content boundary for use to delimit the various upload content files and fields. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn connection object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g62003481a3b7f89618f1bd5f2c19016e"></a><!-- doxytag: member="http.h::httpGetError" ref="g62003481a3b7f89618f1bd5f2c19016e" args="(HttpConn *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cchar* httpGetError           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the error message associated with the last request. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Error messages may be generated for internal or client side errors. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn connection object created via $httpCreateConn </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A error string. The caller must not free this reference. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ga2099f58db09458014bab94511635438"></a><!-- doxytag: member="http.h::httpGetKeepAliveCount" ref="ga2099f58db09458014bab94511635438" args="(HttpConn *conn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int httpGetKeepAliveCount           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the count of Keep-Alive requests that will be used for this connection object. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Http keep alive means that the TCP/IP connection is preserved accross multiple requests. This typically means much higher performance and better response. Http keep alive is enabled by default for Http/1.1 (the default). Disable keep alive when talking to old, broken HTTP servers. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn connection object created via $httpCreateConn </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The maximum count of keep alive requests. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ga4bbef144d78146dee16942ab8fe5dfe"></a><!-- doxytag: member="http.h::httpSetCallback" ref="ga4bbef144d78146dee16942ab8fe5dfe" args="(HttpConn *conn, HttpCallback fn, void *arg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetCallback           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HttpCallback&nbsp;</td>
          <td class="paramname"> <em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>arg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Define an callback for IO events on this connection. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>The event callback will be invoked in response to I/O events. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn connection object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>Callback function. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>arg</em>&nbsp;</td><td>Data argument to provide to the callback function. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ga2583067b73bfb6b79019f21bec6b43d"></a><!-- doxytag: member="http.h::httpSetConnNotifier" ref="ga2583067b73bfb6b79019f21bec6b43d" args="(HttpConn *conn, HttpNotifier fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetConnNotifier           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HttpNotifier&nbsp;</td>
          <td class="paramname"> <em>fn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Define a notifier callback for this connection. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>The notifier callback will be invoked as Http requests are processed. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn connection object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>Notifier function. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g37d38b13f4016816381b5358ddb739c1"></a><!-- doxytag: member="http.h::httpSetContentLength" ref="g37d38b13f4016816381b5358ddb739c1" args="(HttpConn *conn, int length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetContentLength           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Define a content length header in the transmission. 
<p>
This will define a "Content-Length: NNN" request header. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn connection object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>length</em>&nbsp;</td><td>Numeric value for the content length header. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ga5e60e413456e688bb7286e238b50948"></a><!-- doxytag: member="http.h::httpSetCredentials" ref="ga5e60e413456e688bb7286e238b50948" args="(HttpConn *conn, cchar *user, cchar *password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetCredentials           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>password</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the Http credentials. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Define a user and password to use with Http authentication for sites that require it. This will be used for the next client connection. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn connection object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>user</em>&nbsp;</td><td>String user </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>password</em>&nbsp;</td><td>Decrypted password string </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g588105248c91d1a694f549570db344c3"></a><!-- doxytag: member="http.h::httpSetDefaultHost" ref="g588105248c91d1a694f549570db344c3" args="(Http *http, cchar *host)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetDefaultHost           </td>
          <td>(</td>
          <td class="paramtype">Http *&nbsp;</td>
          <td class="paramname"> <em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>host</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Define a default host. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Define a default host to use for connections if the URI does not specify a host </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http</em>&nbsp;</td><td>Http object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>host</em>&nbsp;</td><td>Host or IP address </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g43962e2fe486919ccf27331cbdd16865"></a><!-- doxytag: member="http.h::httpSetDefaultPort" ref="g43962e2fe486919ccf27331cbdd16865" args="(Http *http, int port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetDefaultPort           </td>
          <td>(</td>
          <td class="paramtype">Http *&nbsp;</td>
          <td class="paramname"> <em>http</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Define a default port. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Define a default port to use for connections if the URI does not define a port </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>http</em>&nbsp;</td><td>Http object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>port</em>&nbsp;</td><td>Integer port number </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g5050ac505b4e8701f6247db9242a4249"></a><!-- doxytag: member="http.h::httpSetKeepAliveCount" ref="g5050ac505b4e8701f6247db9242a4249" args="(HttpConn *conn, int count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetKeepAliveCount           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Control Http Keep-Alive for the connection. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Http keep alive means that the TCP/IP connection is preserved accross multiple requests. This typically means much higher performance and better response. Http keep alive is enabled by default for Http/1.1 (the default). Disable keep alive when talking to old, broken HTTP servers. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn connection object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>count</em>&nbsp;</td><td>Count of keep alive transactions to use before closing the connection. Set to zero to disable keep-alive. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gbfb77d6aba161b2641177d85de86b559"></a><!-- doxytag: member="http.h::httpSetProtocol" ref="gbfb77d6aba161b2641177d85de86b559" args="(HttpConn *conn, cchar *protocol)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetProtocol           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cchar *&nbsp;</td>
          <td class="paramname"> <em>protocol</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the Http protocol variant for this connection. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Set the Http protocol variant to use. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn connection object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>protocol</em>&nbsp;</td><td>String representing the protocol variant. Valid values are: "HTTP/1.0", "HTTP/1.1". This parameter must be persistent. Use HTTP/1.1 wherever possible. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g43fe43a026149b074825c886a9d1fba1"></a><!-- doxytag: member="http.h::httpSetRetries" ref="g43fe43a026149b074825c886a9d1fba1" args="(HttpConn *conn, int retries)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetRetries           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>retries</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the Http retry count. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Define the number of retries before failing a request. It is normative for network errors to require that requests be sometimes retried. The default retries is set to (2). </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>retries</em>&nbsp;</td><td>Count of retries </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g0504aa84a3042346eaa5bd5da8a262e9"></a><!-- doxytag: member="http.h::httpSetServerNotifier" ref="g0504aa84a3042346eaa5bd5da8a262e9" args="(HttpServer *server, HttpNotifier fn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetServerNotifier           </td>
          <td>(</td>
          <td class="paramtype">HttpServer *&nbsp;</td>
          <td class="paramname"> <em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HttpNotifier&nbsp;</td>
          <td class="paramname"> <em>fn</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Define a notifier callback for this server. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>The notifier callback will be invoked as Http requests are processed. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>server</em>&nbsp;</td><td>HttpServer object created via <a class="el" href="group___http_server.html#g6ec72aa3669fde9083c1805820e1c623" title="Create a server endpoint.">httpCreateServer</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fn</em>&nbsp;</td><td>Notifier function. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ga66c849705963a35cce4dbc2c19dfda6"></a><!-- doxytag: member="http.h::httpSetTimeout" ref="ga66c849705963a35cce4dbc2c19dfda6" args="(HttpConn *conn, int timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void httpSetTimeout           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the Http inactivity timeout. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Define an inactivity timeout after which the Http connection will be closed. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>HttpConn object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>Timeout in milliseconds </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g0dc78a4133e6db4e5b21e09a26ed3c51"></a><!-- doxytag: member="http.h::httpWriteUploadData" ref="g0dc78a4133e6db4e5b21e09a26ed3c51" args="(HttpConn *conn, MprList *formData, MprList *fileData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int httpWriteUploadData           </td>
          <td>(</td>
          <td class="paramtype">HttpConn *&nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprList *&nbsp;</td>
          <td class="paramname"> <em>formData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MprList *&nbsp;</td>
          <td class="paramname"> <em>fileData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write Http upload body data. 
<p>
<dl class="user" compact><dt><b><b>Description</b>:</b></dt><dd>Write files and form fields as request body data. This will use transfer chunk encoding. This routine will block until all the buffer is written even if a callback is defined. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>Http connection object created via $httpCreateConn </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>fileData</em>&nbsp;</td><td>List of string file names to upload </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>formData</em>&nbsp;</td><td>List of strings containing "key=value" pairs. The form data should be already www-urlencoded. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Number of bytes successfully written. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Tue Jan 26 12:46:02 2010 for http by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
