#
#   SSL
#
defineComponent() {
	local iflags libpaths deps path search ver

    path="${1:-.}"
    libpaths=`probe --name libmprssl --search "$path:$path/out/lib" --dir "libmprssl" `
    iflags=-I`probe --name mprSsl.h --search "$path:$path/src/include" --dir "mprSsl.h"`
    if [ "$libpaths" = "" ] ; then
        if [ ! -f src/deps/mpr/mprSsl.c ] ; then
            warnComponent "mprSsl"
            return
        fi
    fi
    deps=
    if isdefined OPENSSL ; then
        deps="$deps openssl"
    fi
    if isdefined MATRIXSSL ; then
        deps="$deps matrixssl"
    fi
    deps="$deps mpr"

    configureComponent --libs "mprssl" --libpaths "$libpaths" --iflags "$iflags" --dependencies "$deps" ssl
}
