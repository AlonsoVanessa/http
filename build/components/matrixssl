#
#   MatrixSSL
#
defineComponent() {
	local path iflags libpaths search ver imports libs

    path=$1
    ver="latest"
    search="."

    if [ "$path" != "" ] ; then
        libpaths=`probe --name libmatrixssl --search "$path" --dir libmatrixsslstatic`
        iflags=-I`probe --name matrixSsl.h --search "$path" --dir matrixSsl.h`
    else
        libpaths=`probe --name libmatrixssl --search "extensions/matrixssl/$ver/src" --dir libmatrixsslstatic`
        iflags=-I`probe --name matrixSsl.h --search "extensions/matrixssl/$ver" --dir matrixSsl.h`
    fi
    if [ "$libpaths" = "" -o "$iflags" = "" ] ; then
        warnComponent matrixssl
        return
    fi
    if [ $BLD_HOST_OS = WIN ] ; then
#        imports="$path/src/Release/libmatrixssl.dll"
        libs="libmatrixssl"
    else
#        imports="$path/src/libmatrixsslstatic.a"
        libs="matrixsslstatic.a"
    fi

#    for i in $imports
#    do
#        if [ ! -f "$i" ] ; then
#            warnComponent $name "Can't locate $i"
#            return
#        fi
#    done
#    configureComponent --path "$path" --imports "$imports" --libs "$libs" --iflags "-I$path" $name

    CFG_HOST_SSL_MANDATORY=1
    configureComponent --libs "$libs" --libpaths "$libpaths" --iflags "$iflags" matrixssl
}
